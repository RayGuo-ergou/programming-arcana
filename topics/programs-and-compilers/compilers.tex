\chapter{Building Programs} % (fold)
\label{cha:building programs}

\begin{quote}
  \Fontlukas\Large
  \renewcommand{\LettrineTextFont}{\relax}
  \lettrine[image=true,lines=3,lraise=0.1]
  {M}{agic} requires both knowledge and tools. Our first lesson will uncover the tools of the Magi. Tools that you will need to use to practice magic. Here, take this ancient wand this orb and caldron. Each of these tools is essential to the working of even the most basic magic. Now lets see if you can wield that wand. Take it in your hand like this, and \ldots
\end{quote}

\bigskip

Software development requires both knowledge and tools. This first chapter will introduce you to the tools used by software developers. Tools that you will need to use to practice creating programs.

When you have understood the material in this chapter you will be able to make basic use of a Text Editor, the Terminal, and command line tools to create programs from source code. 

\minitoc

% =====================================
% = Concepts - Compilers and Programs =
% =====================================
\clearpage
\section{Concepts Related to Building Programs} % (fold)
\label{sec:concepts_related_to_building_programs}

In this chapter you will learn about the basic tools you need to use to create your own programs. You will see an example program, and then use these tools to convert that code into an executable program. You will then be able to run the program you created, and see it perform the tasks you coded.

This chapter provides a background on what programs are, and the general processes of how they are created. This will introduce you to the tools you will be using, and fill in some details of what they are doing and how to use them. The topics covered include the following:
\begin{itemize}
  \item \nameref{sub:what_is_a_program_}: This section introduces you to the idea of what a program is, and what it contains. You will need to be familiar with programs and what they are, as you will need to be able to create your own.
  \item \nameref{sub:machine_code}: Talks about the kinds of instructions the computer understands, and why it is not very productive to work at this level. You need to understand that this exists behind the scenes, but do not need to be overly familiar with it.
  \item \nameref{sub:assembly}: The next level of language is called Assembly. It is very close to machine code, but much easier to understand and use. However, this is still too low a level to be very productive. Just like machine code, you only need to know this exists
  \item \nameref{sub:source_code_and_the_compiler}: This is the level we are going to be working with in this book. This code is much easier to work with than assembly, and allows you to create your own programs reasonably quickly once you have learnt the basics. These are the tools you are going to be working with throughout this text.
  \item \nameref{sub:terminal}: This is a command line environment that lets you issue text commands to the user. You will use this to create and run your programs.
  \item \nameref{sub:hello world}: A \emph{classic} program used to check that you have everything working correctly. This section shows you the code that you can use this to check that you have all the tools setup correctly, and to check their usage.
  \item \nameref{sub:compiling_code}: This final section will show you how to use these tools to compile and run your own Hello World program. \fref{fig:run-1-helloworld} shows the Hello World program running from the Terminal.
\end{itemize}

\begin{figure}[b]
   \centering
   \includegraphics[width=0.7\textwidth]{./topics/programs-and-compilers/images/HelloWorld} 
   \caption{Hello World run from the Terminal}
   \label{fig:run-1-helloworld}
\end{figure}


\input{topics/programs-and-compilers/concepts/Program}
\input{topics/programs-and-compilers/concepts/MachineCode}
\input{topics/programs-and-compilers/concepts/Assembly}
\input{topics/programs-and-compilers/concepts/Compiler}
% \input{topics/programs-and-compilers/concepts/Challenges}
\input{topics/programs-and-compilers/concepts/Terminal}
\input{topics/programs-and-compilers/concepts/HelloWorld}
\input{topics/programs-and-compilers/concepts/Summary}


% section concepts_related_to_building_programs (end)

% ========================
% = Using these concepts =
% ========================

\clearpage
\section{Using these concepts: Compiling a Program} % (fold)
\label{sec:using_these_concepts_compiling_a_program}

\input{topics/programs-and-compilers/application/using-programs-and-compilers}

% section using_these_concepts_compiling_a_program (end)

% =============
% = C Section =
% =============
\clearpage
\def\pageLang{c}
\section{Building Programs in C} % (fold)
\label{sec:building_programs_in_c}

\input{topics/programs-and-compilers/c/HelloWorldC}
\input{topics/programs-and-compilers/c/InstallingCompiler}
\input{topics/programs-and-compilers/c/TextEditor}
\input{topics/programs-and-compilers/c/SwinGameHelloWorld}

% section building_programs_in_c (end)

% ===================================
% = Understanding Building Programs =
% ===================================

\clearpage
\def\pageLang{}
\section{Understanding Program Compilation} % (fold)
\label{sec:understanding_program_compilation}

An in depth look at how programs and compilers work is beyond the scope of this book. Instead, this chapter focuses on two aspects that can help you understand why we need compilers, and how these are able to help us. These topics are \nameref{sub:levels_of_abstraction}, followed by \nameref{sub:computers_and_intelligent_behaviour}.

\subsection{Levels of Abstraction} % (fold)
\label{sub:levels_of_abstraction}

Programs are very complicated. Trying to keep all of the details about how it works in focus all of the time would take a large amount of effort, and slow you down. As humans we have developed strategies for dealing with these kinds of situations. What we do is create \emph{layers} of abstraction.

A layer, or level, of abstraction provides a means of managing details at a similar level of detail. This means that all aspects of that level are similar, and related to each other. When you are working at a certain level, you think in terms of the tools and artefacts that are available to you. 

These levels build on top of each other, with each layer being built on top of the lower layer, and providing the foundation for the next higher layer. Within a layer of abstraction you do not need to think about the lower levels of abstraction, most of the time. However, it is always good to know the details of at least one level of abstraction below the level you are working at.

\subsubsection{Programming Abstraction Levels} % (fold)
\label{ssub:programming_abstraction_levels}

Computers are unintelligent. This is one of the first, and most important, things you need to understand when starting to create your own programs. A computer is a machine that can be programmed using \nameref{sub:machine_code}. These binary commands instruct the computer to perform basic actions such as adding numbers, reading values from memory, storing values in memory, jumping to new instructions elsewhere in memory, and other simple tasks. While this is a very low level, it is not the lowest level of abstraction.

Below machine code, there is the abstraction for \textbf{binary}. This is the idea that you can have a number system based on two digits, 0 and 1. The machine code level builds on this idea, creating a set of instructions that can be used to tell the computer what to do. Below binary there is the concept of \textbf{gates}, which are themselves built on top of \textbf{electronic circuits}, which in turn are made from \textbf{discrete electronic components}. Even these low level electronic components are based upon something else, but to discuss this we would need to delve into the realm of \textbf{semiconductors} and \textbf{Quantum Mechanics}. From machine code you can also work up to \nameref{sub:assembly}, and then to \nameref{sub:source_code_and_the_compiler}.

Whenever you are working on something you need to be able to work at that level of abstraction, and have an understanding of the level below, and the level above. For programming this means that you will need to understand of the tools provided to you by the language (a level below), and you need to understand the features and functions of the program you are creating (a level above).

In this book the \emph{Understanding} section of each chapter will help you see how the concepts covered work at a lower level of abstraction. Often this means these sections are very detailed. You should read these sections to understand how the abstractions (concepts) covered in the chapter work, at a level of abstraction lower than you will be working at.

% subsubsection programming_abstraction_levels (end)
% subsection levels_of_abstraction (end)
\clearpage
\subsection{Computers and Intelligent Behaviour} % (fold)
\label{sub:computers_and_intelligent_behaviour}

If computers are unintelligent, how can they do the awesome things they do?

That is a good question. Computers are unintelligent, but programs are not. The computer does not \emph{know} what it is doing. It is following a set of steps that was coded into the program being executed. These steps, however, were created by people, software developers. When a computer does something cool, its because a person told it to do that.

This is why it can be really great fun to be a software developer. You get to make computers do things you want them to. This creativity can be really exhilarating when you finally get your program to do exactly what you want.

\begin{figure}[h]
   \centering
   \includegraphics[width=\textwidth]{./topics/programs-and-compilers/diagrams/ProgramIntelligence} 
   \caption{Computers are unintelligent, any interesting behaviour comes from programs created by software developers}
   \label{fig:program-intelligence}
\end{figure}
% subsection computers_and_intelligent_behaviour (end)
% section understanding_ (end)

% ============
% = Examples =
% ============

\clearpage
\section{Exercises on Building Programs} % (fold)
\label{sec:examples_and_exercises_on_building_programs}

\subsection{Concept Questions} % (fold)
\label{sub:concept_questions_compiler}

Read over the concepts in this chapter and answer the following questions:
\begin{enumerate}
  \item What is a \nameref{sub:what_is_a_program_}? What does it contain?
  \item What is \nameref{sub:machine_code}?
  \item Can you write programs in Machine Code? Explain any issues associated with this.
  \item What is \nameref{sub:assembly}?
  \item Can you write programs in Assembly? Explain any issues associated with this.
  \item What tool is used to convert Assembly to Machine Code?
  \item What is Source Code?
  \item What are the advantages of programming at a Source Code level?
  \item What tool is used to convert Source Code to Machine Code?
  \item Why do you need to convert Source Code and Assembly to Machine Code?
  \item What is the \nameref{sub:terminal}? 
  \item What is Bash?
  \item Which command is used to change directories in Bash?
  \item With Bash, how can you check which directory is the current working directory?
  \item How can you list all of the files in the current directory?
  \item Why program `Hello World'? What does it do for you?
  \item What is the name of the C or Pascal compiler we will be using in this book?
  \item How intelligent is your computer?
\end{enumerate}
% subsection concept_questions (end)

\medskip
\subsection{Code Writing Questions: Applying what you have learnt} % (fold)
\label{sub:code_writing_questions_applying_what_you_have_learnt_compiler}

Apply what you have learnt to the following tasks:

\begin{enumerate}
  \item Install the following programs:
  \begin{enumerate}
    \item A \textbf{Text Editor} that offers syntax highlighting for the language you are using.
    \item The \textbf{Compiler} for the language you are using.
    \item \textbf{Bash} and the \textbf{Terminal} (on Windows only).
  \end{enumerate}
  \item Enter the code, compile, and run the `Hello World' program.
  \item Try changing the code to output a different message. After you have made the changes you will need to re-compile and run the program.
\end{enumerate}
% subsection code_writing_questions_applying_what_you_have_learnt (end)

\clearpage
\subsection{Extension Questions} % (fold)
\label{sub:extension_questions_compiler}

If you want to further your knowledge in this area you can try to answer the following questions. The answers to these questions will require you to think harder, and possibly look at other sources of information.
\begin{enumerate}
  \item What is the difference between a compiler and an interpreter? How are programs of interpreted languages, such as Python, executed?
  \item If you compile a program for an Intel CPU on UNIX, can you run this on a UNIX machine that has a PowerPC CPU?
  \item If you compile a program on a Windows machine can you run the resulting program on a UNIX machine with the same CPU architecture?
  \item What is a fat, or Universal, binary?
  \item What is a Virtual Machine?
\end{enumerate}
% subsection extension_questions (end)
% section examples_and_exercises_on_building_programs (end)


% chapter building_programs (end)